% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sys_analyze_ancova_structure.R
\name{.analyze_ancova_structure}
\alias{.analyze_ancova_structure}
\title{Analyse de la structure ANCOVA (pentes communes vs hétérogènes)}
\usage{
.analyze_ancova_structure(
  formula,
  data,
  alpha = 0.05,
  verbose = FALSE,
  debug = FALSE,
  k = NULL,
  code = NULL
)
}
\arguments{
\item{formula}{Formule du modèle (peut contenir interactions)}

\item{data}{Data.frame contenant les variables}

\item{alpha}{Seuil de significativité pour test interaction (défaut 0.05)}

\item{verbose}{Logique, afficher messages pédagogiques}

\item{debug}{Logique, afficher messages debug}

\item{k}{Compteur messages .vbse()}
}
\value{
Liste avec :
\itemize{
\item model_type: "ANCOVA" ou "Heterogeneous_Slopes"
\item has_interaction: Booléen, interaction facteur×covariable détectée
\item interaction_terms: Vecteur noms des interactions détectées
\item factor_vars: Noms facteurs catégoriques
\item covariate_vars: Noms covariables continues
\item hierarchical_test: Liste résultats anova(reduced, full) si effectué
\item decision: "parallel_slopes" ou "heterogeneous_slopes"
\item k: Compteur messages mis à jour
}
}
\description{
Détermine si un modèle ANCOVA doit être traité comme :
\itemize{
\item ANCOVA classique (pentes parallèles, pas d'interaction facteur×covariable)
\item Modèle à pentes hétérogènes (interaction facteur×covariable présente)
}
}
\details{
Effectue un test hiérarchique (anova reduced vs full) pour décider objectivement.

\strong{STANDARD ACADÉMIQUE} (Maxwell et al., 2018, pp. 423-428) :

Lorsqu'une interaction facteur×covariable est présente dans la formule,
un test hiérarchique doit être effectué :
\enumerate{
\item Ajuster modèle COMPLET (avec interaction)
\item Ajuster modèle RÉDUIT (sans interaction, pentes communes)
\item Comparer via anova(reduced, full)
\item Si p < alpha : Garder interaction (pentes hétérogènes)
Si p >= alpha : Supprimer interaction (pentes communes, ANCOVA classique)
}

\strong{CONSÉQUENCES DU CHOIX} :
\itemize{
\item ANCOVA classique :
\itemize{
\item Assomption : Homogénéité des pentes (parallélisme)
\item Post-hocs : Comparaisons moyennes ajustées
\item Graphique : Lignes parallèles
}
\item Pentes hétérogènes :
\itemize{
\item Pas d'assomption homogénéité pentes
\item Post-hocs : Comparaisons slopes, simple effects
\item Graphique : Lignes NON parallèles (interaction plot)
}
}
}
\references{
Maxwell, S. E., Delaney, H. D., & Kelley, K. (2018).
Designing Experiments and Analyzing Data (3rd ed.). Routledge.
Chapter 9, pp. 423-428: Testing homogeneity of regression slopes.
}
\keyword{internal}
